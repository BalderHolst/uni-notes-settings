{"path":"Lessons/Semester 2/Kinematik/Lecture 8 - Inverse Kinematics.pdf","text":"Lecture 8: Inverse Kinematics IÃ±igo Iturrate Assistant Professor SDU Robotics, The Maersk McKinney Moller Institute, University of Southern Denmark inju@mmmi.sdu.dk Ã˜27-604-3 2 What are we doing today? 1. CAD Modelling in Autodesk Inventor â€“ Guest Lecture by Aljaz Kramberger 2. CAD Assemblies in Autodesk Inventor â€“ Guest Lecture by Aljaz Kramberger 3. Introduction to Robotics & Recap of Linear Algebra and Mathematical Notation 4. Translations & Rotation Matrices 5. Other Representations for Orientation 6. Transformation Matrices 7. DH Parameters & Forward Kinematics 8. Inverse Kinematics (Today) 9. Kinematic Simulation 10. Velocity Kinematics & the Jacobian Matrix 11. More about the Jacobian & Trajectory Generation 12. Manipulability, More on the Robotic Systems Toolbox 3 Last time we sawâ€¦ We can describe a robotâ€™s kinematic structure using DH parameters. Forward Kinematics describes how motions of the joints translate into motion of the end-effector: â€¢ We can obtain the Forward Kinematics from the DH parameters. â€¢ We can also derive the forward kinematics from transformations between frames. ??? 4 Recap: DH Parameters ğ‘ğ‘ğ‘–ğ‘–âˆ’1 ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 Link i-1 Axis i Link i ğœƒğœƒğ‘–ğ‘– ğ‘‘ğ‘‘ğ‘–ğ‘–ï¿½ğ’ğ’ğ‘–ğ‘–âˆ’1 ï¿½ğ’ğ’ğ‘–ğ‘– ğ‘ğ‘ğ‘–ğ‘– ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘– ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘–âˆ’1 ï¿½ğ’€ğ’€ğ‘–ğ‘–âˆ’1 ï¿½ğ’€ğ’€ğ‘–ğ‘– Axis i-1 Using Modified (Craig) DH Parameters: We can describe a whole robot by attaching frames to links: â€¢ Z-axis of frame {ğ‘–ğ‘–} is coincident with joint axis ğ‘–ğ‘–. â€¢ X-axis of frame {ğ‘–ğ‘–} points along ğ‘ğ‘ğ‘–ğ‘– in the direction from joint ğ‘–ğ‘– to joint ğ‘–ğ‘– + 1. Then, we can assign four parameters to each link: â€¢ ğœ¶ğœ¶ğ’Šğ’Š â€“ The angle from ï¿½ğ’ğ’ğ‘–ğ‘– to ï¿½ğ’ğ’ğ‘–ğ‘–+1measured about ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘– â€¢ ğ’‚ğ’‚ğ’Šğ’Š â€“ The distance from ï¿½ğ’ğ’ğ‘–ğ‘– to ï¿½ğ’ğ’ğ‘–ğ‘–+1measured along ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘– â€¢ ğ’…ğ’…ğ’Šğ’Š â€“ The distance from ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘–âˆ’1to ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘– measured along ï¿½ğ’ğ’ğ‘–ğ‘– â€¢ ğœ½ğœ½ğ’Šğ’Š â€“ The angle from ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘–âˆ’1to ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘– measured about ï¿½ğ’ğ’ğ‘–ğ‘– 5 Recap: FK from Modified DH Parameters ğ‘–ğ‘– ğ‘–ğ‘–âˆ’1ğ‘»ğ‘» = ğ‘¹ğ‘¹ğ‘‹ğ‘‹ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 ğ‘«ğ‘«ğ‘‹ğ‘‹ ğ‘ğ‘ğ‘–ğ‘–âˆ’1 ğ‘«ğ‘«ğ‘ğ‘(ğ‘‘ğ‘‘ğ‘–ğ‘–)ğ‘¹ğ‘¹ğ‘ğ‘(ğœƒğœƒğ‘–ğ‘–) = 1 0 0 0 0 ğ‘ğ‘ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 âˆ’ğ‘ ğ‘ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 0 0 ğ‘ ğ‘ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 ğ‘ğ‘ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 0 0 0 0 1 1 0 0 ğ‘ğ‘ğ‘–ğ‘–âˆ’1 0 1 0 0 0 0 1 0 0 0 0 1 1 0 0 0 0 1 0 0 0 0 1 ğ‘‘ğ‘‘ğ‘–ğ‘– 0 0 0 1 ğ‘ğ‘ğœƒğœƒğ‘–ğ‘– âˆ’ğ‘ ğ‘ ğœƒğœƒğ‘–ğ‘– 0 0 ğ‘ ğ‘ ğœƒğœƒğ‘–ğ‘– ğ‘ğ‘ğœƒğœƒğ‘–ğ‘– 0 0 0 0 1 0 0 0 0 1 = ğ‘ğ‘ğœƒğœƒğ‘–ğ‘– âˆ’ğ‘ ğ‘ ğœƒğœƒğ‘–ğ‘– 0 ğ‘ğ‘ğ‘–ğ‘–âˆ’1 ğ‘ ğ‘ ğœƒğœƒğ‘–ğ‘–ğ‘ğ‘ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 ğ‘ğ‘ğœƒğœƒğ‘–ğ‘–ğ‘ğ‘ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 âˆ’ğ‘ ğ‘ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 âˆ’ğ‘ ğ‘ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1ğ‘‘ğ‘‘ğ‘–ğ‘– ğ‘ ğ‘ ğœƒğœƒğ‘–ğ‘–ğ‘ ğ‘ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 ğ‘ğ‘ğœƒğœƒğ‘–ğ‘–ğ‘ ğ‘ ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 ğ‘ğ‘ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1 ğ‘ğ‘ğ›¼ğ›¼ğ‘–ğ‘–âˆ’1ğ‘‘ğ‘‘ğ‘–ğ‘– 0 0 0 1 These variables are always fixed This is fixed for a revolute joint This is fixed for a prismatic joint 6 Todayâ€¦ What if we want to do the opposite? In most tasks, we will have a defined task motion that the robot needs to follow in Cartesian space, not a defined joint space motion. The problem then becomes: â€œGiven a target position and orientation of the robot end-effector, what joint position values will reach that target?â€ ? ? ? 7 Topics for Today Part I: Joint and Cartesian Spaces â€¢ Joint space & Cartesian space â€¢ Mapping between them (Forward and Inverse Kinematics) Part II: Inverse Kinematics â€¢ Closed-form vs. Numerical solutions â€¢ Examples of closed-form solutions for 2R Planar Manipulator & Universal Robots (6R Manipulator) Part III: Practical Considerations â€¢ Workspace in relation to IK â€¢ DOF vs number of IK solutions â€¢ Choice of IK solutions â€¢ Repeatability and Accuracy Part I: Joint and Cartesian Spaces & Mapping between Them 9 Joint & Cartesian Spaces In robotics, we are constantly working with two different spaces: â€¢ Joint (or Operational) space ï‚§ The space where the robot actually operates. ï‚§ Defines how its joints (and their associated motors) actually move. ï‚§ It is the space we have direct (low-level) control over. â€¢ Cartesian (or Task) space â€¢ â€œOur worldâ€, where we want the robot to actually act and perform a task. â€¢ Defines how the end-effector/tool of the robot should move. â€¢ We cannot control it directly (at a low level). 10 Joint (Configuration) Space The dimensionality of the space will depend on the number and kind of joints (i.e. DOF) in the robot. For an ğ‘›ğ‘›-DOF robot: â€¢ Positions in joint space are given by ğ’’ğ’’ âˆˆ â„ğ‘›ğ‘›: ğ’’ğ’’ = ğ‘ğ‘1 â‹® ğ‘ğ‘ğ‘›ğ‘› â€¢ Velocities are given by Ì‡ğ’’ğ’’ âˆˆ â„ğ‘›ğ‘›: Ì‡ğ’’ğ’’ = Ì‡ğ‘ğ‘1 â‹® Ì‡ğ‘ğ‘ğ‘›ğ‘› â€¢ Accelerations are given by Ìˆğ’’ğ’’ âˆˆ â„ğ‘›ğ‘›: Ìˆğ’’ğ’’ = Ìˆğ‘ğ‘1 â‹® Ìˆğ‘ğ‘ğ‘›ğ‘› Where each ğ‘ğ‘ğ‘–ğ‘– is: â€¢ An angle ğœƒğœƒ for revolute joints â€¢ A displacement ğ‘‘ğ‘‘ for prismatic joints 11 Cartesian (Task) Space The dimensionality of the space will depend on the kind of task. Usually, we will work in a 3D environment. For a 3D environment: â€¢ Poses in Cartesian space are usually described by ğ±ğ± âˆˆ â„6: ğ’™ğ’™ = ğ’‘ğ’‘ ğ“ğ“ â€¢ Velocities are usually given by Ì‡ğ’™ğ’™ âˆˆ â„6: Ì‡ğ’™ğ’™ = ğ’—ğ’— = Ì‡ğ’‘ğ’‘ Ì‡ğ“ğ“ or Ì‡ğ’™ğ’™ = Ì‡ğ’‘ğ’‘ ğğ â€¢ Accelerations are usually given by Ìˆğ’™ğ’™ âˆˆ â„6: Ìˆğ’™ğ’™ = ğ’‚ğ’‚ = Ìˆğ’‘ğ’‘ Ìˆğ“ğ“ or Ìˆğ’™ğ’™ = Ìˆğ’‘ğ’‘ Ì‡ğğ Where: â€¢ ğ’‘ğ’‘ âˆˆ â„ 3is a position vector ğ‘ğ‘ğ‘¥ğ‘¥, ğ‘ğ‘ğ‘¦ğ‘¦, ğ‘ğ‘ğ‘§ğ‘§ ğ‘‡ğ‘‡ â€¢ ğ“ğ“ âˆˆ â„ 3or ğ“ğ“ âˆˆ ğ‘†ğ‘†ğ‘†ğ‘†(3) is an orientation vector ğœ™ğœ™ğ‘¥ğ‘¥, ğœ™ğœ™ğ‘¦ğ‘¦, ğœ™ğœ™ğ‘§ğ‘§ ğ‘‡ğ‘‡ (which can be in many representations) Where: â€¢ Ì‡ğ“ğ“ âˆˆ â„ 3is the time-derivative of the orientation vector â€¢ ğğ âˆˆ â„ 3is an angular velocity 12 Different Cases with Mappings One-to-one: Many-to-one: One-to-many: One-to-none: None-to-one: Shapes Colors 13 Different Cases with Mappings (More Formally) A B A B A B A B General Injective Surjective BijectiveNOT a A B Function (not surjective) (not injective) (injective, surjective)Function A has many B B can't have many A Every B has some A A to B, perfectlyB can have many A Source: https://www.mathsisfun.com/sets/injective-surjective-bijective.html 14 Forward Kinematics (Joint ïƒ  Cartesian) Forward Kinematics is the name given to the mapping from joint space to Cartesian space. In other words, if we know the position of the joints, what is the position of the end-effector? This is the easy problem. Why? Because the mappings will be: â€¢ One-to-one â€¢ Many-to-one â€¢ None-to-one Joint Space Cartesian Space 15 Inverse Kinematics (Cartesian ïƒ  Joint) Inverse Kinematics is the name given to the mapping from Cartesian space to joint space. In other words, if we know the position of the end-effector, how should we place the joints? This is the HARD problem. Why? Because the mappings will be: â€¢ One-to-one â€¢ One-to-many â€¢ One-to-none Cartesian Space Joint Space And this can be nasty! Part II: Inverse Kinematics 17 Inverse Kinematics as a Mathematical Problem The forward kinematics of a robot are specified by a transformation matrix: ğ‘‡ğ‘‡ğ‘‡ğ‘‡ğ‘‡ğ‘‡ğ‘‡ğ‘‡ ğµğµğµğµğµğµğµğµğ‘»ğ‘»(ğœ½ğœ½) = ğ‘Ÿğ‘Ÿ11 ğ‘Ÿğ‘Ÿ12 ğ‘Ÿğ‘Ÿ13 ğ‘ğ‘ğ‘¥ğ‘¥ ğ‘Ÿğ‘Ÿ21 ğ‘Ÿğ‘Ÿ22 ğ‘Ÿğ‘Ÿ23 ğ‘ğ‘ğ‘¦ğ‘¦ ğ‘Ÿğ‘Ÿ31 ğ‘Ÿğ‘Ÿ32 ğ‘Ÿğ‘Ÿ33 ğ‘ğ‘ğ‘§ğ‘§ 0 0 0 1 Letâ€™s take a Universal Robots 6R manipulator as an example. We can write a system of 12 equations with 6 unknowns1: ğ‘Ÿğ‘Ÿ11 ğ‘Ÿğ‘Ÿ12 â‹® ğ‘ğ‘ğ‘§ğ‘§ = cos ğœƒğœƒ6 sin ğœƒğœƒ1 sin ğœƒğœƒ5 + cos ğœƒğœƒ2+ ğœƒğœƒ3+ ğœƒğœƒ4 cos ğœƒğœƒ1 cos ğœƒğœƒ5 âˆ’ sin ğœƒğœƒ2+ ğœƒğœƒ3+ ğœƒğœƒ4 cos ğœƒğœƒ1 sin ğœƒğœƒ6 âˆ’sin(ğœƒğœƒ6) âˆ— (sin(ğœƒğœƒ1) âˆ— sin(ğœƒğœƒ5) + cos(ğœƒğœƒ2+ ğœƒğœƒ3+ ğœƒğœƒ4)cos(ğœƒğœƒ1) âˆ— cos(ğœƒğœƒ5)) âˆ’ sin(ğœƒğœƒ2+ ğœƒğœƒ3+ ğœƒğœƒ4)cos(ğœƒğœƒ1)cos(ğœƒğœƒ6) â‹® ğ‘‘ğ‘‘1+ ğ‘‘ğ‘‘5 sin ğœƒğœƒ2+ ğœƒğœƒ3 sin ğœƒğœƒ4 âˆ’ cos ğœƒğœƒ2+ ğœƒğœƒ3 cos ğœƒğœƒ4 + ğ‘ğ‘3sin ğœƒğœƒ2+ ğœƒğœƒ3 + ğ‘ğ‘2sin ğœƒğœƒ2 âˆ’ ğ‘‘ğ‘‘6sin(ğœƒğœƒ5)(cos(ğœƒğœƒ2+ ğœƒğœƒ3)sin(ğœƒğœƒ4) + sin(ğœƒğœƒ2+ ğœƒğœƒ3)cos(ğœƒğœƒ4)) Solving this for [ğœ½ğœ½ğŸğŸ, ğœ½ğœ½ğŸğŸ, â‹¯ , ğœ½ğœ½ğŸ”ğŸ”] will give us the Inverse Kinematics. Only 3 of the 9 equations for the rotation are independent 1This comes from the FK, which you have calculated using DH Parameters. ïƒ  We end up with 6 equations/6 unknowns. 18 Closed-form vs. Numerical Solutions Note that the equations IK are non-linear and transcendental! There are two main approaches to solving the inverse kinematics problem: â€¢ Closed-form: An analytical solution based on the forward kinematics transform equations. + Fast to compute + Exact - Does not exist for all robots - Can be complex to calculate - Needs to be calculated for each specific robot â€¢ Numerical: A numerical solution based on an approximation and iterative attempts. + Possible for all robots + The same method can be used generally for any robot - Slow to compute - Inexact We will not go into this today. 19 IK of 2R Planar Manipulator Objective: Obtain ğ‘ğ‘1, ğ‘ğ‘2 Given: â€¢ End-effector position: ğ‘¥ğ‘¥, ğ‘¦ğ‘¦ â€¢ Length of links: ğ¿ğ¿1and ğ¿ğ¿2 Exercise: 10-15 minutes Hint: Use the rule of cosines: ğ‘ğ‘2= ğ‘ğ‘2+ ğ‘ğ‘2âˆ’ 2ğ‘ğ‘ğ‘ğ‘ cos ğ´ğ´ ğ‘ğ‘2= ğ‘ğ‘2+ ğ‘ğ‘2âˆ’ 2ğ‘ğ‘ğ‘ğ‘ cos ğµğµ ğ‘ğ‘2= ğ‘ğ‘2+ ğ‘ğ‘2âˆ’ 2ğ‘ğ‘ğ‘ğ‘ cos ğ¶ğ¶ ğ¿ğ¿1 (ğ‘¥ğ‘¥, ğ‘¦ğ‘¦) ğ‘ğ‘1 ğ¿ğ¿2 ğ‘ğ‘2 ğ¶ğ¶ ğ´ğ´ ğµğµ ğ‘ğ‘ ğ‘ğ‘ğ‘ğ‘ 20 IK of 2R Planar Manipulator: Solution for ğ’’ğ’’ğŸğŸ ğ‘ğ‘2= ğ‘ğ‘2+ ğ‘ğ‘2âˆ’ 2ğ‘ğ‘ğ‘ğ‘ cos ğ¶ğ¶ cos ğ¶ğ¶ = ğ‘ğ‘2+ ğ‘ğ‘2âˆ’ ğ‘ğ‘2 2ğ‘ğ‘ğ‘ğ‘ cos ğœ‹ğœ‹ âˆ’ ğ‘ğ‘2 = ğ¿ğ¿1 2+ ğ¿ğ¿2 2âˆ’ ğ‘¥ğ‘¥2+ ğ‘¦ğ‘¦2 2 2ğ¿ğ¿1ğ¿ğ¿2 cos ğ‘ğ‘2 = âˆ’ ğ¿ğ¿1 2+ ğ¿ğ¿2 2âˆ’ ğ‘¥ğ‘¥2âˆ’ ğ‘¦ğ‘¦2 2ğ¿ğ¿1ğ¿ğ¿2 ğ¿ğ¿1 (ğ‘¥ğ‘¥, ğ‘¦ğ‘¦) ğ‘ğ‘1 ğ¿ğ¿2 ğ‘ğ‘2 ğ¶ğ¶ ğ´ğ´ ğµğµ ğ‘ğ‘ ğ‘ğ‘ğ‘ğ‘ ğ‘ğ‘2= Â± acos ğ‘¥ğ‘¥2+ ğ‘¦ğ‘¦2âˆ’ ğ¿ğ¿1 2âˆ’ ğ¿ğ¿2 2 2ğ¿ğ¿1ğ¿ğ¿2 21 IK of 2R Planar Manipulator: Solution for ğ’’ğ’’ğŸğŸ ğ‘ğ‘2= ğ‘ğ‘2+ ğ‘ğ‘2âˆ’ 2ğ‘ğ‘ğ‘ğ‘ cos ğµğµ ğµğµ = Â± acos ğ¿ğ¿1 2+ ğ‘¥ğ‘¥2+ ğ‘¦ğ‘¦2âˆ’ ğ¿ğ¿2 2 2ğ¿ğ¿1 ğ‘¥ğ‘¥2+ ğ‘¦ğ‘¦2 ğ¿ğ¿1 (ğ‘¥ğ‘¥, ğ‘¦ğ‘¦) ğ‘ğ‘1 ğ¿ğ¿2 ğ‘ğ‘2 ğ‘ğ‘1= ğœ‘ğœ‘ âˆ’ ğµğµ ğ‹ğ‹ ğ¶ğ¶ ğ´ğ´ ğµğµ ğ‘ğ‘ ğ‘ğ‘ğ‘ğ‘ ğœ‘ğœ‘ = atan2 ğ‘¦ğ‘¦, ğ‘¥ğ‘¥ ğ‘ğ‘1= atan2 ğ‘¦ğ‘¦, ğ‘¥ğ‘¥ âˆ“ acos ğ¿ğ¿1 2+ ğ‘¥ğ‘¥2+ ğ‘¦ğ‘¦2âˆ’ ğ¿ğ¿2 2 2ğ¿ğ¿1 ğ‘¥ğ‘¥2+ ğ‘¦ğ‘¦2 Using law of cosines: 22 IK of 2R Planar Manipulator: Alternate Solution for ğ’’ğ’’ğŸğŸ ğ‘ğ‘ sin ğ´ğ´ = ğ‘ğ‘ sin ğµğµ = ğ‘ğ‘ sin ğ¶ğ¶ ğµğµ = asin ğ‘ğ‘ sin ğ¶ğ¶ ğ‘ğ‘ ğµğµ = asin ğ¿ğ¿2sin(ğœ‹ğœ‹ âˆ’ ğ‘ğ‘2) ğ‘ğ‘ = asin ğ¿ğ¿2sin(ğ‘ğ‘2) ğ‘ğ‘ ğ¿ğ¿1 (ğ‘¥ğ‘¥, ğ‘¦ğ‘¦) ğ‘ğ‘1 ğ¿ğ¿2 ğ‘ğ‘2 ğ‘ğ‘1= ğœ‘ğœ‘ âˆ’ ğµğµ ğ‹ğ‹ ğ¶ğ¶ ğ´ğ´ ğµğµ ğ‘ğ‘ ğ‘ğ‘ğ‘ğ‘ ğœ‘ğœ‘ = atan2 ğ‘¦ğ‘¦, ğ‘¥ğ‘¥ ğ‘ğ‘1= atan2 ğ‘¦ğ‘¦, ğ‘¥ğ‘¥ âˆ“ asin ğ¿ğ¿2sin(ğ‘ğ‘2) ğ‘ğ‘ Using law of sines (alternate solution): 23 Example: IK of Universal Robots 6R Manipulator We start with the frame assignment according to the modified DH parameter convention. Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University 24 Example UR IK: Finding ğœ½ğœ½ğŸğŸ(I) Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University First, notice that we can find frame 5 from frame 6: We will use this to find ğœƒğœƒ1. 25 Example UR IK: Finding ğœ½ğœ½ğŸğŸ(II) Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University We break down ğœƒğœƒ1into two angles: We determine ğœ™ğœ™1by looking at the triangle formed by 0ğ‘ƒğ‘ƒ5ğ‘¥ğ‘¥, 0ğ‘ƒğ‘ƒ5ğ‘¦ğ‘¦and 0ğ‘ƒğ‘ƒ5ğ‘¥ğ‘¥ğ‘¦ğ‘¦: We determine ğœ™ğœ™2by looking at the triangle formed by ğ‘‘ğ‘‘4, 0ğ‘ƒğ‘ƒ5ğ‘¥ğ‘¥ and 0ğ‘ƒğ‘ƒ5ğ‘¥ğ‘¥ğ‘¦ğ‘¦: Shoulder left/right 26 Example UR IK: Finding ğœ½ğœ½ğŸ“ğŸ“ Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University Notice that 1ğ‘ƒğ‘ƒ6ğ‘¦ğ‘¦ only depends on ğœƒğœƒ5. Notice also that we can write: But we can also look at is as a rotation around the ğ‘§ğ‘§-axis of frame 0: Wrist up/down 27 Refresher: Spherical Coordinates Conversion to Cartesian coordinates: 28 Example UR IK: Finding ğœ½ğœ½ğŸ”ğŸ”(I) Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University Notice that 6ï¿½ğ‘Œğ‘Œ1is always parallel to 6Ì‚ğ‘ğ‘2,3,4 This implies it only depends on ğœƒğœƒ5and ğœƒğœƒ6. We can visualize 6ï¿½ğ‘Œğ‘Œ1in spherical coordinates and then re-write this in Cartesian coordinates: We can express 6ï¿½ğ‘Œğ‘Œ1in terms of a rotation of frame 0 around the ğ‘§ğ‘§-axis (like we did for ğœƒğœƒ5): 29 Example UR IK: Finding ğœ½ğœ½ğŸ”ğŸ”(II) Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University Combining the first two entries of the two expressions from the previous slide: If the denominator is 0 or both numerators are 0, then ğ¬ğ¬ğ¬ğ¬ğ¬ğ¬ ğœ½ğœ½ğŸ“ğŸ“= ğŸğŸ, and the solution is undefined. Question: What does it mean physically on the robot? Hint: Look at the figure on the previous slide. Answer: Axes 2, 3, 4 and 6 are aligned, making rotation around 6 redundant. 30 31 Example UR IK: Finding ğœ½ğœ½ğŸğŸ, ğœ½ğœ½ğŸ‘ğŸ‘and ğœ½ğœ½ğŸ’ğŸ’(I) Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University Notice that the three joints that are left consitute a 3R planar manipulator. â€¦and the position of a 3R planar manipulator can be solved for like a 2R, since the last joint only affects the orientation. 32 Example UR IK: Finding ğœ½ğœ½ğŸ‘ğŸ‘and ğœ½ğœ½ğŸğŸ Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University This follows the same logic as the 2R planar manipulator: 33 Example UR IK: Finding ğœ½ğœ½ğŸ’ğŸ’ Based on â€Kinematics of a UR5â€ by Rasmus Skovgaard Andersen, Aalborg University From the definition of ğœƒğœƒ as a DH parameter: â€œğœ½ğœ½ğ’Šğ’Š â€“ The angle from ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘–âˆ’1to ï¿½ğ‘¿ğ‘¿ğ‘–ğ‘– measured about ï¿½ğ’ğ’ğ‘–ğ‘–â€ From the definition of a rotation matrix: ğµğµ ğ´ğ´ğ‘¹ğ‘¹ = ğ´ğ´ï¿½ğ‘¿ğ‘¿ğµğµ ğ´ğ´ï¿½ğ’€ğ’€ğµğµ ğ´ğ´ï¿½ğ’ğ’ğµğµ We then can then just look at the first column of the rotation of 4 3ğ‘»ğ‘» and write: Part III: Practical Considerations 35 Workspace in relation to Inverse Kinematics The workspace is the volume of space that the end-effector can reach. We can distinguish between: â€¢ Reachable workspace: can be reached with at least one orientation. â€¢ Dexterous workspace: can be reached with any orientation. Example: For a 2R planar manipulator with equal-length links, ğ¿ğ¿1= ğ¿ğ¿2= ğ¿ğ¿: Reachable (â‰¤2ğ¿ğ¿) Dexterous (center) 36 DOF and Number of Solutions The number of DOF of the robot will greatly affect the number of IK solutions. For a 3D Cartesian space with 3-DOF position + 3-DOF orientation and an ğ‘›ğ‘›-DOF robot: â€¢ ğ‘›ğ‘› < 6: Will often run into the problem of not having a solution â€¢ ğ‘›ğ‘› = 6: Will (in theory) be the minimum to cover the entire space: ï‚§ Some points will have a single IK solution ï‚§ Some points will have multiple solutions ï‚§ (In practice, some points will present singularities) â€¢ ğ‘›ğ‘› > 7: Will be redundant (always multiple solutions). ïƒ  We will see this in upcoming lectures 37 Notion of Subspace for ğ’ğ’ < ğŸ”ğŸ”DOF A 6-DOF robot operates in general in 3D space, but can only move to points in its reachable workspace. For ğ‘›ğ‘› < 6 DOF, we can define a portion of space that it operates in, called a subspace. ïƒ  Analyzing the subspace can help us determine whether the robot fits our needs. Question: What is the subspace of A 2R planar robot? Subspace Workspace (reachable) Workspace (dexterous) 38 Example â€“ Multiple IK Solutions: UR (6-DOF) 39 Multiple IK Solutions: 7-DOF 40 Choice of IK Solutions Different tasks will dictate a different choice of IK solution: 41 Repeatability & Accuracy (in relation to FK/IK) Question: Considering what you know about FK and IK, which mode of control is (potentially) preferable if reaching a point precisely is required? Why? (Discuss with your neighbors â€“ 5 minutes). Joint-space control: â€¢ Only depends on the joint controllers/the ability of the joint encoders to measure joint position. ïƒ  Repeatability: measures how precisely a manipulator can return to a known set of joint angles. Cartesian-space control: â€¢ Depends on the same as joint-space control + â€¢ Depends on how precisely the DH parameters are known. This is subject to manufacturing tolerances. ïƒ  Accuracy: measures of how precisly a manipulator can reach a point computed through IK. â€¢ Calibration of the parameters can be used to improve accuracy. Repeatability â‰¥Accuracy 42 Recap: What have we discussed today â€¢ A robot can be controlled in joint space or Cartesian space. The choice of either will imply solving a problem of: ï‚§ Forward Kinematics: given joint angles, determine the position of the end-effector. ï‚§ Inverse Kinematics: given a position of the end-effector, determine (all sets of) the corresponding joint angles. â€¢ Inverse Kinematics is a complex non-linear problem, which can be solved: ï‚§ Analytically (closed-form): Only possible for some robots, hard to derive. ï‚§ Numerically (iterative): A numerical approximation to the solution. â€¢ The workspace of a robot is closely related to the existence and number of IK solutions: ï‚§ Reachable: the robot can reach the point with at least one orientation ï‚§ Dexterous: the robot can reach the point with any orientation. â€¢ The measures of reapeatability and accuracy are closely related to the FK and IK problems. Inverse Kinematics is a much more complex problem than Forward Kinematics, but is required to control a robot in task space. The structure and number of DOF of the robot will have a huge impact on the number and type of IK solutions available. Take home message: 43 Thank you for today. IÃ±igo Iturrate inju@mmmi.sdu.dk Ã˜27-604-3","libVersion":"0.2.4","langs":""}