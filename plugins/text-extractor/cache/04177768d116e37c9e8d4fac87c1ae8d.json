{"path":"Lessons/Semester 3/signalbehandling/PDFs/Lektion 1 - Filterfunktioner.pdf","text":"Lektion 1: Filterfunktioner Signalbehandling Christoffer Sloth chsl@mmmi.sdu.dk SDU Robotics The Maersk Mc-Kinney Moller Institute University of Southern Denmark 1Agenda Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 2Introduktion Pensum for Signalbehandling Datakonvertering og digital signalbehandling herunder: 1 ▶ ideel og praktisk sampling og rekonstruktion ▶ aliasing ▶ kvantisering og dynamikområde ▶ konverteringsprincipper (A/D og D/A) ▶ implementationsprincipper (Sample & Hold, A/D, D/A) ▶ multirate sampling ▶ diskret-tid signaler og systemer i tids- og frekvensdomænet ▶ Z-transformationen ▶ overføringsfunktion for lineære tidsinvariante systemer ▶ systemanalyse ▶ frekvensanalyse ▶ lineær fase systemer ▶ realisationsstrukturer for diskret-tid systemer ▶ hovedanvendelse af digital signalbehandling herunder digitale IIR-ﬁltre og transformation af analoge ﬁltre samt digitale FIR-ﬁltre og vindues-funktioner 1 Baseret på https://odin.sdu.dk/sitecore/index.php?a=fagbesk&id=65003&listid=9093&lang=da 3Introduktion Lektionsplan ▶ Lektion 1: Filterfunktioner ▶ Lektion 2: Sampling og rekonstruktion ▶ Lektion 3: Introduktion til z-transformation ▶ Lektion 4: Systemanalyse i z-domæne ▶ Lektion 5: Digitale realisationsstrukturer ▶ Lektion 6: Introduktion til IIR-ﬁltre ▶ Lektion 7: Design af IIR-ﬁltre ▶ Lektion 8: Introduktion til FIR-ﬁltre ▶ Lektion 9: Design af FIR-ﬁltre ▶ Lektion 10: Fast Fourier transformation (I) ▶ Lektion 11: Fast Fourier transformation (II) ▶ Lektion 12: Anvendelse af digital signalbehandling 4Introduktion Kursusoverblik Signal- processor D/A xs(nT ) y(nT ) y′(t) xs(nT ) y′(t) t t y(nT ) t Rekon- ﬁlter A/D xs(t)Samplex(t) Hold Anti ﬁlter aliasings ˜x(t) struktions- y(t) y(t) t xs(t) t x(t) t ˜x(t) t 5Elektroniske ﬁltre Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 6Elektroniske ﬁltre Filtertyper Amplitudekarakteristikkerne for ﬁre grundlæggende ﬁltertyper er illustreret herunder. ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ω2 ω0 |H(ω)| 1 ω2ω1 ω1 Lavpas Højpas Båndpas Båndstop Terminologi ▶ Pasbånd: Frekvensområde hvor signalet passerer igennem ﬁltret ▶ Stopbånd: Frekvensområde hvor signalet dæmpes af ﬁltret Bemærk: Disse ﬁltre er ideelle, dvs. forstærkning i pasbånd er 1 (0 dB) og forstærkning i stopbånd er 0 (-∞ dB). 6Elektroniske ﬁltre Filtertyper Amplitudekarakteristikkerne for ﬁre grundlæggende ﬁltertyper er illustreret herunder. ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ω2 ω0 |H(ω)| 1 ω2ω1 ω1 Lavpas Højpas Båndpas Båndstop Terminologi ▶ Pasbånd: Frekvensområde hvor signalet passerer igennem ﬁltret ▶ Stopbånd: Frekvensområde hvor signalet dæmpes af ﬁltret Bemærk: Disse ﬁltre er ideelle, dvs. forstærkning i pasbånd er 1 (0 dB) og forstærkning i stopbånd er 0 (-∞ dB). 6Elektroniske ﬁltre Filtertyper Amplitudekarakteristikkerne for ﬁre grundlæggende ﬁltertyper er illustreret herunder. ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ω2 ω0 |H(ω)| 1 ω2ω1 ω1 Lavpas Højpas Båndpas Båndstop Terminologi ▶ Pasbånd: Frekvensområde hvor signalet passerer igennem ﬁltret ▶ Stopbånd: Frekvensområde hvor signalet dæmpes af ﬁltret Bemærk: Disse ﬁltre er ideelle, dvs. forstærkning i pasbånd er 1 (0 dB) og forstærkning i stopbånd er 0 (-∞ dB). 7Elektroniske ﬁltre Filterspeciﬁkation En ﬁlterspeciﬁkation består minimum af krav til amplitudekarakteristikken for ﬁltret (der kan også være krav til fasen). Disse krav kan for et lavpasﬁlter være 1. En afskæringsfrekvens ωa som angiver pasbåndets øvre grænse. 2. En stopbåndsfrekvens ωs, ved hvilken en stopbåndsdæmpning As er speciﬁceret. 3. Information om tilladelig forstærkningsvariation i pasbåndet. 20 · log As Amax A Amax [dB] Pasbåndsripple ω (log) ωa ωs 0 8Elektroniske ﬁltre Gruppeløbstid Fasekarakteristikken for et ﬁlter har også betydning for input-output opførslen for et ﬁlter. Hvis pulsoversving eller dæmpet oscillation (ringing) skal undgås, så skal ﬁltret have konstant gruppeløbstid, Tg. Gruppeløbstiden er et mål for tidsforsinkelsen gennem ﬁltret; denne afhænger ofte af frekvensen ω. Et systems gruppeløbstid er deﬁneret som Tg = − dϕ(ω) dω [s] hvor ϕ(ω) er ﬁltrets fase [ ◦]. 8Elektroniske ﬁltre Gruppeløbstid Fasekarakteristikken for et ﬁlter har også betydning for input-output opførslen for et ﬁlter. Hvis pulsoversving eller dæmpet oscillation (ringing) skal undgås, så skal ﬁltret have konstant gruppeløbstid, Tg. Gruppeløbstiden er et mål for tidsforsinkelsen gennem ﬁltret; denne afhænger ofte af frekvensen ω. Et systems gruppeløbstid er deﬁneret som Tg = − dϕ(ω) dω [s] hvor ϕ(ω) er ﬁltrets fase [ ◦]. 9Elektroniske ﬁltre Eksempel: Gruppeløbstid (lineær fase) Ud fra gruppeløbstiden kan det ses om ﬁltrets step-respons har dæmpet oscillation (ringing). Betragt et system med lineær fase (konstant gruppeløbstid). ω Tg(ω) ω ϕ(ω) Step-responset for systemet med lineær fase har ikke oscillation. tt System med u(t) y(t) lineær fase u y 9Elektroniske ﬁltre Eksempel: Gruppeløbstid (lineær fase) Ud fra gruppeløbstiden kan det ses om ﬁltrets step-respons har dæmpet oscillation (ringing). Betragt et system med lineær fase (konstant gruppeløbstid). ω Tg(ω) ω ϕ(ω) Step-responset for systemet med lineær fase har ikke oscillation. tt System med u(t) y(t) lineær fase u y 10Elektroniske ﬁltre Eksempel: Gruppeløbstid (ikke-lineær fase) Betragt et system med ikke-lineær fase (varierende gruppeløbstid). ω ϕ(ω) Tg(ω) ω Step-responset for systemet med ikke-lineær fase har oscillation. t System med u(t) y(t) ulineær fase t u y 10Elektroniske ﬁltre Eksempel: Gruppeløbstid (ikke-lineær fase) Betragt et system med ikke-lineær fase (varierende gruppeløbstid). ω ϕ(ω) Tg(ω) ω Step-responset for systemet med ikke-lineær fase har oscillation. t System med u(t) y(t) ulineær fase t u y 11Filteroverføringsfunktioner Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 12Filteroverføringsfunktioner Introduktion I praksis kan de ideelle ﬁltre ikke realiseres, men kan approksimeres ved brug af diverse ﬁlterfunktionstyper. Vi kigger på tre ﬁlterfunktionstyper 1. Butterworth 2. Chebyshev 3. Bessel Disse er allpole ﬁltre (kun poler - ingen nulpunkter). 12Filteroverføringsfunktioner Introduktion I praksis kan de ideelle ﬁltre ikke realiseres, men kan approksimeres ved brug af diverse ﬁlterfunktionstyper. Vi kigger på tre ﬁlterfunktionstyper 1. Butterworth 2. Chebyshev 3. Bessel Disse er allpole ﬁltre (kun poler - ingen nulpunkter). 13Filteroverføringsfunktioner Overblik (I) Når ﬁlterfunktionen til en given applikation skal vælges, er vi interesseret i følgende karakteristika 1. Konstant forstærkning i pasbånd 2. Høj dæmpning efter afskæringsfrekvens 3. Lineær fase ω ωa A [dB] 10 0,1 0,2 0,5 1 2 5 10 0 -10 -20 -30 -40 -50 ω0,1 0,2 0,5 1 2 5 10 0 2 4 6 8 10 Tg Bessel Butterworth 2 dB Chebyshev 13Filteroverføringsfunktioner Overblik (I) Når ﬁlterfunktionen til en given applikation skal vælges, er vi interesseret i følgende karakteristika 1. Konstant forstærkning i pasbånd 2. Høj dæmpning efter afskæringsfrekvens 3. Lineær fase ω ωa A [dB] 10 0,1 0,2 0,5 1 2 5 10 0 -10 -20 -30 -40 -50 ω0,1 0,2 0,5 1 2 5 10 0 2 4 6 8 10 Tg Bessel Butterworth 2 dB Chebyshev 14Filteroverføringsfunktioner Overblik (II) De forskellige ﬁlterfunktioner er opnået ved at vælge forskellige poler for ﬁltrene. jω σ jωa -jωa Step-responsene for ﬁltrene har derfor også forskellige egenskaber. y(t) t 1 0 0 5 10 15 20 14Filteroverføringsfunktioner Overblik (II) De forskellige ﬁlterfunktioner er opnået ved at vælge forskellige poler for ﬁltrene. jω σ jωa -jωa Step-responsene for ﬁltrene har derfor også forskellige egenskaber. y(t) t 1 0 0 5 10 15 20 15Filteregenskaber Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 16Filteregenskaber Butterworthﬁltre (1) Et Butterworthﬁlter har følgende egenskaber 1. Optimalt med hensyn til konstant forstærkning i pasbåndet. 2. Har dæmpning på 3 dB ved afskæringsfrekvensen og herefter falder ﬁltrets forstærkning hurtigt med 20 dB/dec. 3. Fasen for ﬁltret er ikke konstant i pasbåndet, hvilket medfører ringning ved step-input. Alle polpar for et Butterworthﬁlter har naturlig egenfrekvens ωn, der er lig med afskæringsfrekvensen ωa. 17Filteregenskaber Butterworthﬁltre (1) Det kvardrerede amplituderespons for et N te ordens Butterworthﬁlter er |H(jω)| 2 = 1 1 + (ω/ωa)2N hvor ωa er afskæringsfrekvensen [rad/s]. Alle poler for H(jω) ligger i venstre halvplan på en cirkel med radius ωa og centrum i origo. 17Filteregenskaber Butterworthﬁltre (1) Det kvardrerede amplituderespons for et N te ordens Butterworthﬁlter er |H(jω)| 2 = 1 1 + (ω/ωa)2N hvor ωa er afskæringsfrekvensen [rad/s]. Alle poler for H(jω) ligger i venstre halvplan på en cirkel med radius ωa og centrum i origo. 18Filteregenskaber Chebyshevﬁltre (1) Et Chebyshevﬁlter har følgende egenskaber 1. Har varierende forstærkning i pasbåndet - pasbåndsripplens størrelse kan vælges frit. 2. Forstærkningen falder hurtigt omkring afskæringsfrekvensen. 3. Fasen for ﬁltret er ikke konstant i pasbåndet, hvilket medfører ringning ved step-input. DC-forstærkningen for et Chebyshev lavpasﬁlter er ikke ﬁltrets maksimale forstærkning, hvis polantallet er lige. A(ω) ω ωa Amax ω ωa Lige polantal Ulige polantal A(ω) Amax 18Filteregenskaber Chebyshevﬁltre (1) Et Chebyshevﬁlter har følgende egenskaber 1. Har varierende forstærkning i pasbåndet - pasbåndsripplens størrelse kan vælges frit. 2. Forstærkningen falder hurtigt omkring afskæringsfrekvensen. 3. Fasen for ﬁltret er ikke konstant i pasbåndet, hvilket medfører ringning ved step-input. DC-forstærkningen for et Chebyshev lavpasﬁlter er ikke ﬁltrets maksimale forstærkning, hvis polantallet er lige. A(ω) ω ωa Amax ω ωa Lige polantal Ulige polantal A(ω) Amax 19Filteregenskaber Chebyshevﬁltre (2) Det kvardrerede amplituderespons for et N te ordens Chebyshevﬁlter er |H(ω)|2 = 1 1 + ϵ2T 2 N (ω/ωa) hvor TN (ω) er Chebyshev polynomium af grad N givet ved TN (ω) = {cos(N cos−1(ω)) |ω| ≤ 1 cosh(N cosh−1(ω)) |ω| > 1 Pasbåndsripplens størrelse δ i dB er givet af ϵ δ = 10 log(ϵ2 + 1) 19Filteregenskaber Chebyshevﬁltre (2) Det kvardrerede amplituderespons for et N te ordens Chebyshevﬁlter er |H(ω)|2 = 1 1 + ϵ2T 2 N (ω/ωa) hvor TN (ω) er Chebyshev polynomium af grad N givet ved TN (ω) = {cos(N cos−1(ω)) |ω| ≤ 1 cosh(N cosh−1(ω)) |ω| > 1 Pasbåndsripplens størrelse δ i dB er givet af ϵ δ = 10 log(ϵ2 + 1) 20Filteregenskaber Besselﬁltre Et Besselﬁlter har følgende egenskaber 1. Har ikke ripple i pasbåndet, men amplituden er ikke lige så konstant som ved Butterworthﬁlter. 2. Har dæmpning der er meget glidende. Amplitudekarakteristikken for ﬁltret er som for første ordens ﬁlter for de første 6 dB’s dæmpning uanset polantal. 3. Fasen er næsten lineær med frekvensen indenfor pasbåndet. Overføringsfunktionen for et N te ordens Besselﬁlter er HN (s) = b0 sN + bN −1sN −1 + · · · + b1s + b0 hvor bk = (2N − k)! 2N −kk!(N − k)! 20Filteregenskaber Besselﬁltre Et Besselﬁlter har følgende egenskaber 1. Har ikke ripple i pasbåndet, men amplituden er ikke lige så konstant som ved Butterworthﬁlter. 2. Har dæmpning der er meget glidende. Amplitudekarakteristikken for ﬁltret er som for første ordens ﬁlter for de første 6 dB’s dæmpning uanset polantal. 3. Fasen er næsten lineær med frekvensen indenfor pasbåndet. Overføringsfunktionen for et N te ordens Besselﬁlter er HN (s) = b0 sN + bN −1sN −1 + · · · + b1s + b0 hvor bk = (2N − k)! 2N −kk!(N − k)! 21Valg af ﬁlterets ordenstal Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 22Valg af ﬁlterets ordenstal Fremgangsmetode Ordenstallet for ﬁltre kan ﬁndes ved at aﬂæse amplitudekarakteristikken for en givet ﬁlterfunktion, og sammenholde denne med krav til dæmpning ved stopbåndsfrekvensen. Disse grafer er normerede, dvs. forstærkningen er Y = 20 log A Amax På tilsvarende vis er frekvensen normeret X = ω ωa n = 1 1 10975 6 84321,5 0 -10 -20 -30 -40 -50 -60 -70 2 3 4 5 678910ωa = 1 22Valg af ﬁlterets ordenstal Fremgangsmetode Ordenstallet for ﬁltre kan ﬁndes ved at aﬂæse amplitudekarakteristikken for en givet ﬁlterfunktion, og sammenholde denne med krav til dæmpning ved stopbåndsfrekvensen. Disse grafer er normerede, dvs. forstærkningen er Y = 20 log A Amax På tilsvarende vis er frekvensen normeret X = ω ωa n = 1 1 10975 6 84321,5 0 -10 -20 -30 -40 -50 -60 -70 2 3 4 5 678910ωa = 1 22Valg af ﬁlterets ordenstal Fremgangsmetode Ordenstallet for ﬁltre kan ﬁndes ved at aﬂæse amplitudekarakteristikken for en givet ﬁlterfunktion, og sammenholde denne med krav til dæmpning ved stopbåndsfrekvensen. Disse grafer er normerede, dvs. forstærkningen er Y = 20 log A Amax På tilsvarende vis er frekvensen normeret X = ω ωa n = 1 1 10975 6 84321,5 0 -10 -20 -30 -40 -50 -60 -70 2 3 4 5 678910ωa = 1 23Valg af ﬁlterets ordenstal Eksempel Find polantallet for et lavpasﬁlter med kravene ▶ Afskæringsfrekvens fa = 2 kHz ▶ Stopbåndsfrekvens fs = 8 kHz ▶ Stopbåndsdæmpning i forhold til Amax på mindst 60 dB Den normerede stopbåndsfrekvens er fs/fa = 4. 23Valg af ﬁlterets ordenstal Eksempel Find polantallet for et lavpasﬁlter med kravene ▶ Afskæringsfrekvens fa = 2 kHz ▶ Stopbåndsfrekvens fs = 8 kHz ▶ Stopbåndsdæmpning i forhold til Amax på mindst 60 dB Den normerede stopbåndsfrekvens er fs/fa = 4. 23Valg af ﬁlterets ordenstal Eksempel Find polantallet for et lavpasﬁlter med kravene ▶ Afskæringsfrekvens fa = 2 kHz ▶ Stopbåndsfrekvens fs = 8 kHz ▶ Stopbåndsdæmpning i forhold til Amax på mindst 60 dB Den normerede stopbåndsfrekvens er fs/fa = 4. n = 1 1 10975 6 84321,5 0 -10 -20 -30 -40 -50 -60 -70 2 3 4 5 678910ωa = 1 23Valg af ﬁlterets ordenstal Eksempel Find polantallet for et lavpasﬁlter med kravene ▶ Afskæringsfrekvens fa = 2 kHz ▶ Stopbåndsfrekvens fs = 8 kHz ▶ Stopbåndsdæmpning i forhold til Amax på mindst 60 dB Den normerede stopbåndsfrekvens er fs/fa = 4. n = 1 1 10975 6 84321,5 0 -10 -20 -30 -40 -50 -60 -70 2 3 4 5 678910ωa = 1 24Konstruktion af ﬁltre Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 25Konstruktion af ﬁltre Introduktion Når et ﬁlter skal implementeres, så implementeres den generelle overføringsfunktion for et lavpasﬁlter ikke H(s) = A0 sn + Bn−1sn−1 + · · · + B1s + B0 Årsagen til dette er for analoge ﬁltre at dette giver hårde krav til komponent-tolerancer, og for digitale ﬁltre er årsagen regnenøjagtighed og dynamikområde. Filtre realiseres derfor som en kaskade af 1. og 2. ordens overføringsfunktioner. Bemærk at rækkefølgen af del-ﬁltrene har betydning pga. fx dynamikområde. 25Konstruktion af ﬁltre Introduktion Når et ﬁlter skal implementeres, så implementeres den generelle overføringsfunktion for et lavpasﬁlter ikke H(s) = A0 sn + Bn−1sn−1 + · · · + B1s + B0 Årsagen til dette er for analoge ﬁltre at dette giver hårde krav til komponent-tolerancer, og for digitale ﬁltre er årsagen regnenøjagtighed og dynamikområde. Filtre realiseres derfor som en kaskade af 1. og 2. ordens overføringsfunktioner. Bemærk at rækkefølgen af del-ﬁltrene har betydning pga. fx dynamikområde. 26Konstruktion af ﬁltre Eksempel - Konstruktion af 5. ordens lavpasﬁlter (I) Betragt implementeringen af et normeret 5. ordens 0,5 dB Chebyshev lavpasﬁlter H(s) = A0 s5 + B4s4 + B3s3 + B2s2 + B1s + B0 Dette ﬁlter skal implementeres som en kaskade af to 2. ordens ﬁltre og et 1. ordens ﬁlter som vist her H1(s) 2. ordens H2(s) 2. ordens H3(s) 1. ordens Filterkoefﬁcienterne for ﬁltrene kan ﬁndes ved tabelopslag. 26Konstruktion af ﬁltre Eksempel - Konstruktion af 5. ordens lavpasﬁlter (I) Betragt implementeringen af et normeret 5. ordens 0,5 dB Chebyshev lavpasﬁlter H(s) = A0 s5 + B4s4 + B3s3 + B2s2 + B1s + B0 Dette ﬁlter skal implementeres som en kaskade af to 2. ordens ﬁltre og et 1. ordens ﬁlter som vist her H1(s) 2. ordens H2(s) 2. ordens H3(s) 1. ordens Filterkoefﬁcienterne for ﬁltrene kan ﬁndes ved tabelopslag. 26Konstruktion af ﬁltre Eksempel - Konstruktion af 5. ordens lavpasﬁlter (I) Betragt implementeringen af et normeret 5. ordens 0,5 dB Chebyshev lavpasﬁlter H(s) = A0 s5 + B4s4 + B3s3 + B2s2 + B1s + B0 Dette ﬁlter skal implementeres som en kaskade af to 2. ordens ﬁltre og et 1. ordens ﬁlter som vist her H1(s) 2. ordens H2(s) 2. ordens H3(s) 1. ordens Filterkoefﬁcienterne for ﬁltrene kan ﬁndes ved tabelopslag. 27Konstruktion af ﬁltre Eksempel - Konstruktion af 5. ordens lavpasﬁlter (II) De tre ﬁltre der skal benyttes til konstruktion af det ønskede ﬁlter, har følgende amplitudekarakteristikker. 5 10210,50,1 0,2 ωa = 1 -30 -5 0 5 10 15 -10 -15 -20 -25 Det ses at et af ﬁltrene har en maksimalforstærkning på 13 dB - dette kan give anledning til problemer ved implementering, pga. begrænset dynamikområde. 27Konstruktion af ﬁltre Eksempel - Konstruktion af 5. ordens lavpasﬁlter (II) De tre ﬁltre der skal benyttes til konstruktion af det ønskede ﬁlter, har følgende amplitudekarakteristikker. 5 10210,50,1 0,2 ωa = 1 -30 -5 0 5 10 15 -10 -15 -20 -25 Det ses at et af ﬁltrene har en maksimalforstærkning på 13 dB - dette kan give anledning til problemer ved implementering, pga. begrænset dynamikområde. 28Filtertransformationer Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 29Filtertransformationer Introduktion A Amax [dB] ωSpeciﬁkation A Amax [dB] ω ωa1 0 A Amax [dB] ˜ω Normering TransformationDesign A Amax [dB]DenormeringA Amax [dB] A Amax [dB] ω ωa1 0 ω n = 1 2 3 Transformation 45 Filterspeciﬁkation Filterspeciﬁkation Nor meret ﬁlter Nor meret ˜ω ﬁlter Endelige 30Lavpas til højpas transformation Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 31Lavpas til højpas transformation Filterspeciﬁkation Højpasﬁltre kan designes ud fra normaliserede prototype lavpasﬁltre på baggrund af følgende speciﬁkation ▶ Filterfunktionen (Bessel, Butterworth, Chebyshev) ▶ Filtrets afskæringsfrekvens ωa ▶ Filtrets stopbåndsfrekvens ωs ▶ Filtrets stopbåndsdæmpning As ved stopbåndsfrekvensen ωs 20 · log As Amax A Amax [dB] Pasbåndsripple ω (log) ωaωs 0 32Lavpas til højpas transformation Overblik over designprocedure A Amax [dB] ω ωaωs 0Speciﬁkation A Amax [dB] ω ωa1 ωa ωs 0 A Amax [dB] ω ωa1ωs ωa 0 Normering TransformationDesign A Amax [dB] ωaωs 0 DenormeringA Amax [dB] ω ωa1ωs ωa 0 A Amax [dB] ω ωa1 ωa ωs 0 ω n = 1 2 3 Transformation 4 5 33Lavpas til højpas transformation Filtertransformation Et lavpasﬁlter kan transformeres til et højpas ﬁlter ved Hhp(s) = Hlp(¯s)|¯s= 1 s Transformationen svarer til at spejle frekvensaksen om 1, som vist her 20 · log As Amax A Amax [dB] ω ωa (log) 1 ωs ωa 0 |Hlp| |Hhp| ωa ωs 33Lavpas til højpas transformation Filtertransformation Et lavpasﬁlter kan transformeres til et højpas ﬁlter ved Hhp(s) = Hlp(¯s)|¯s= 1 s Transformationen svarer til at spejle frekvensaksen om 1, som vist her 20 · log As Amax A Amax [dB] ω ωa (log) 1 ωs ωa 0 |Hlp| |Hhp| ωa ωs 34Lavpas til højpas transformation Eksempel - Filterspeciﬁkation Design et 1 dB Chebyshev højpasﬁlter, der opfylder følgende amplitudekarakteristik. ≤ −40 A Amax [dB] f [Hz] fa = 1000fs = 200 0 35Lavpas til højpas transformation Eksempel - Transformation af speciﬁkation For at designe ﬁltret, så normeres højpasﬁltret, dvs. den normerede stopbåndsfrekvens udregnes til ωs ωa = fs fa = 1 5 Slutteligt udregnes stopbåndsfrekvensen for det normerede lavpasﬁlter, der benyttes til designet. Denne er ωa ωs = 5 35Lavpas til højpas transformation Eksempel - Transformation af speciﬁkation For at designe ﬁltret, så normeres højpasﬁltret, dvs. den normerede stopbåndsfrekvens udregnes til ωs ωa = fs fa = 1 5 Slutteligt udregnes stopbåndsfrekvensen for det normerede lavpasﬁlter, der benyttes til designet. Denne er ωa ωs = 5 36Lavpas til højpas transformation Eksempel - Valg af ﬁlterorden Filtret designes ved at vælge ordenstallet for ﬁltret. Dette gøres på baggrund af amplitudekarakteristikker for 1 dB Chebyshev lavpasﬁltre. Det er et krav at forstærkningen er under -40 dB ved en frekvens på 5. n = 1 10975 6 8432 2 3 4 5 67 8910 1 1,5 -70 -10 -20 -30 -40 -50 -60 ωa = 1 0 -80 Det mindste ordenstal for ﬁltret, der opfylder kravet er 3 (n = 3). 36Lavpas til højpas transformation Eksempel - Valg af ﬁlterorden Filtret designes ved at vælge ordenstallet for ﬁltret. Dette gøres på baggrund af amplitudekarakteristikker for 1 dB Chebyshev lavpasﬁltre. Det er et krav at forstærkningen er under -40 dB ved en frekvens på 5. n = 1 10975 6 8432 2 3 4 5 67 8910 1 1,5 -70 -10 -20 -30 -40 -50 -60 ωa = 1 0 -80 Det mindste ordenstal for ﬁltret, der opfylder kravet er 3 (n = 3). 37Lavpas til højpas transformation Eksempel - Denormering Dermed bliver det normerede lavpasﬁlters overføringsfunktion (ved tabelopslag) H(s) = 1 (s2 + 0, 49417s + 0, 99421)(s + 0, 49417) Det normerede højpasﬁlter bliver dermed (erstat s med 1/s alle steder i ovenstående) H(s) = s 3 (1 + 0, 49417s + 0, 99421s2)(1 + 0, 49417s) Det denormerede højpasﬁlters overføringsfunktion er (erstat s med s/ωa alle steder i ovenstående) H(s) = s 3/ω3 a (1 + 0, 49417/ωas + 0, 99421/ω2 as2)(1 + 0, 49417/ωas) 37Lavpas til højpas transformation Eksempel - Denormering Dermed bliver det normerede lavpasﬁlters overføringsfunktion (ved tabelopslag) H(s) = 1 (s2 + 0, 49417s + 0, 99421)(s + 0, 49417) Det normerede højpasﬁlter bliver dermed (erstat s med 1/s alle steder i ovenstående) H(s) = s 3 (1 + 0, 49417s + 0, 99421s2)(1 + 0, 49417s) Det denormerede højpasﬁlters overføringsfunktion er (erstat s med s/ωa alle steder i ovenstående) H(s) = s 3/ω3 a (1 + 0, 49417/ωas + 0, 99421/ω2 as2)(1 + 0, 49417/ωas) 37Lavpas til højpas transformation Eksempel - Denormering Dermed bliver det normerede lavpasﬁlters overføringsfunktion (ved tabelopslag) H(s) = 1 (s2 + 0, 49417s + 0, 99421)(s + 0, 49417) Det normerede højpasﬁlter bliver dermed (erstat s med 1/s alle steder i ovenstående) H(s) = s 3 (1 + 0, 49417s + 0, 99421s2)(1 + 0, 49417s) Det denormerede højpasﬁlters overføringsfunktion er (erstat s med s/ωa alle steder i ovenstående) H(s) = s 3/ω3 a (1 + 0, 49417/ωas + 0, 99421/ω2 as2)(1 + 0, 49417/ωas) 38Lavpas til båndpas transformation Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 39Lavpas til båndpas transformation Filterspeciﬁkation Båndpasﬁltre kan designes ud fra normaliserede prototype lavpasﬁltre på baggrund af følgende speciﬁkation ▶ Filterfunktionen (Bessel, Butterworth, Chebyshev) ▶ Filtrets centerfrekvens ωc ▶ Pasbånds-båndbredden ∆ωa ▶ Stopbånds-båndbredden ∆ωs ▶ Filtrets stopbåndsdæmpning As 20 · log As Amax A Amax [dB] ω (log) ωa1ωs1 0 ωa2 ωs2ωc ∆ωa ∆ωs 40Lavpas til båndpas transformation Normering af ﬁlter Båndpasﬁltret normeres til centerfrekvensen ωc, som er midt imellem ωa1 og ωa2 på en logaritmisk akse, dvs. log ωc = log ωa1 + log ωa2 2 = log √ωa1 ωa2 ωc = √ωa1ωa2 20 · log As Amax A Amax [dB] ω ωc (log) ωa1 ωc ωs1 ωc 0 ωa2 ωc ωs2 ωc 1 Wa Ws Formfaktoren for et båndpasﬁlter er deﬁneret som F = Ws Wa . 40Lavpas til båndpas transformation Normering af ﬁlter Båndpasﬁltret normeres til centerfrekvensen ωc, som er midt imellem ωa1 og ωa2 på en logaritmisk akse, dvs. log ωc = log ωa1 + log ωa2 2 = log √ωa1 ωa2 ωc = √ωa1ωa2 20 · log As Amax A Amax [dB] ω ωc (log) ωa1 ωc ωs1 ωc 0 ωa2 ωc ωs2 ωc 1 Wa Ws Formfaktoren for et båndpasﬁlter er deﬁneret som F = Ws Wa . 41Lavpas til båndpas transformation Overblik over designprocedure A Amax [dB] ω 0Speciﬁkation A Amax [dB] ω ωa1 ωs ωa 0 A Amax [dB] Normering TransformationDesign A Amax [dB] DenormeringA Amax [dB] ω ωa A Amax [dB] ω ωa1 ωs ωa 0 ω n = 1 2 3 Transformation 4 5 ω ωcωa1 ωc ωs1 ωc 0 ωa2 ωc ωs2 ωc 1 Wa Ws ωa1ωs1 ωa2 ωs2 ωc ∆ωa ∆ωs 0 ωa1ωs1 ωa2 ωs2 ωc ∆ωa ∆ωs ωa1 ωc ωs1 ωc 0 ωa2 ωc ωs2 ωc 1 Wa Ws 42Lavpas til båndpas transformation Filtertransformation Et lavpasﬁlter kan transformeres til et båndpasﬁlter ved Hbp(s) = Hlp(¯s)|¯s= 1 Wa (s+ 1 s ) A Amax [dB] ω ωcωa1 ωc ωs1 ωc ωa2 ωc ωs2 ωc 1 Wa Ws 20 · log As Amax A Amax [dB] ω ωa1 ωs ωa 0 F = Ws Wa 42Lavpas til båndpas transformation Filtertransformation Et lavpasﬁlter kan transformeres til et båndpasﬁlter ved Hbp(s) = Hlp(¯s)|¯s= 1 Wa (s+ 1 s ) A Amax [dB] ω ωcωa1 ωc ωs1 ωc ωa2 ωc ωs2 ωc 1 Wa Ws 20 · log As Amax A Amax [dB] ω ωa1 ωs ωa 0 F = Ws Wa 43Lavpas til båndpas transformation Eksempel - Filterspeciﬁkation Design et 2 dB Chebyshev båndpasﬁlter, der opfylder følgende amplitudekarakteristik. A Amax [dB] 0 fc = 3, 16k ∆fa = 500 ∆fs ≤ 2k ≤ −40 f [Hz] -2 44Lavpas til båndpas transformation Eksempel - Transformation af speciﬁkation For at designe ﬁltret, så normeres båndpasﬁltret, dvs. den normerede stopbåndsbredde og den normerede pasbåndsbredde udregnes til Wa = ∆fa fc = 0, 1582 Ws = ∆fs fc = 0, 6329 Slutteligt udregnes formfaktoren til F = ∆fs ∆fa = 4 44Lavpas til båndpas transformation Eksempel - Transformation af speciﬁkation For at designe ﬁltret, så normeres båndpasﬁltret, dvs. den normerede stopbåndsbredde og den normerede pasbåndsbredde udregnes til Wa = ∆fa fc = 0, 1582 Ws = ∆fs fc = 0, 6329 Slutteligt udregnes formfaktoren til F = ∆fs ∆fa = 4 45Lavpas til båndpas transformation Eksempel - Valg af ﬁlterorden Filtret designes ved at vælge ordenstallet for ﬁltret. Dette gøres på baggrund af amplitudekarakteristikker for 2 dB Chebyshev lavpasﬁltre. Det er et krav at forstærkningen er under -40 dB ved en frekvens på 4, da F = 4. 1 1.5 2 3 4 5 6 7 8 9 10 -80 -70 -60 -50 -40 -30 -20 -10 0 Det mindste ordenstal for ﬁltret, der opfylder kravet er 3 (n = 3). 45Lavpas til båndpas transformation Eksempel - Valg af ﬁlterorden Filtret designes ved at vælge ordenstallet for ﬁltret. Dette gøres på baggrund af amplitudekarakteristikker for 2 dB Chebyshev lavpasﬁltre. Det er et krav at forstærkningen er under -40 dB ved en frekvens på 4, da F = 4. 1 1.5 2 3 4 5 6 7 8 9 10 -80 -70 -60 -50 -40 -30 -20 -10 0 Det mindste ordenstal for ﬁltret, der opfylder kravet er 3 (n = 3). 46Lavpas til båndpas transformation Eksempel - Denormering 1 1.5 2 3 4 5 6 7 8 910 -80 -60 -40 -20 0 0.8 1 1.2 1.4 -50 -40 -30 -20 -10 0 2.5 3 3.5 4 4.5 -50 -40 -30 -20 -10 0 ▶ Det normerede ﬁlter ﬁndes ved at erstatte s med 1 Wa (s + 1 s ) i lavpasﬁltret. ▶ Det denormerede båndpasﬁlter ﬁndes ved at erstatte s i det normerede båndpasﬁlter med s/ωc. 47Lavpas til båndstop transformation Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 48Lavpas til båndstop transformation Filterspeciﬁkation Båndstopﬁltre kan designes ud fra normaliserede prototype lavpasﬁltre på baggrund af følgende speciﬁkation ▶ Filterfunktionen (Bessel, Butterworth, Chebyshev) ▶ Filtrets centerfrekvens ωc ▶ Pasbånds-båndbredden ∆ωa ▶ Stopbånds-båndbredden ∆ωs ▶ Filtrets stopbåndsdæmpning As 20 · log As Amax A Amax [dB] ω (log) ωs1ωa1 0 ωs2 ωa2ωc ∆ωs ∆ωa 49Lavpas til båndstop transformation Overblik over designprocedureSpeciﬁkation A Amax [dB] ω ωa1 ωs ωa 0 Normering TransformationDesign DenormeringA Amax [dB] ω ωa1 ωs ωa 0 n = 1 2 3 Transformation 4 5 A Amax [dB] ω ωcωs1 ωc ωa1 ωc 0 ωs2 ωc ωa2 ωc 1 Ws Wa A Amax [dB] ω ωs1ωa1 0 ωs2ωa2 ωc ∆ωs ∆ωa A Amax [dB] ω ωcωs1 ωc ωa1 ωc 0 ωs2 ωc ωa2 ωc 1 Ws Wa A Amax [dB] ω ωs1ωa1 0 ωs2ωa2 ωc ∆ωs ∆ωa 50Lavpas til båndstop transformation Filtertransformation Et lavpasﬁlter kan transformeres til et båndstopﬁlter ved Hbs(s) = Hlp(¯s)|¯s= Wa s+ 1 s Transformationen er illustreret i følgende ﬁgur. ω ωc 20 · log As Amax A Amax [dB] ω ωa1 ωs ωa 0 A Amax [dB] ωs1 ωc ωa1 ωc ωs2 ωc ωa2 ωc 1 Ws Wa F = Wa Ws Formfaktoren for et båndstopﬁlter er deﬁneret som F = Wa Ws . 50Lavpas til båndstop transformation Filtertransformation Et lavpasﬁlter kan transformeres til et båndstopﬁlter ved Hbs(s) = Hlp(¯s)|¯s= Wa s+ 1 s Transformationen er illustreret i følgende ﬁgur. ω ωc 20 · log As Amax A Amax [dB] ω ωa1 ωs ωa 0 A Amax [dB] ωs1 ωc ωa1 ωc ωs2 ωc ωa2 ωc 1 Ws Wa F = Wa Ws Formfaktoren for et båndstopﬁlter er deﬁneret som F = Wa Ws . 51Opsummering Introduktion Elektroniske ﬁltre Filteroverføringsfunktioner Filteregenskaber Valg af ﬁlterets ordenstal Konstruktion af ﬁltre Filtertransformationer Lavpas til højpas transformation Lavpas til båndpas transformation Lavpas til båndstop transformation Opsummering 52Opsummering Filtertyper Fire grundlæggende ﬁltertyper betragtes, som er deﬁneret ud fra deres pasbånd og stopbånd. ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ωa ω0 |H(ω)| 1 ω2 ω0 |H(ω)| 1 ω2ω1 ω1 Lavpas Højpas Båndpas Båndstop 53Opsummering Filterfunktioner ω ωa A [dB] 10 0,1 0,2 0,5 1 2 5 10 0 -10 -20 -30 -40 -50 ω0,1 0,2 0,5 1 2 5 10 0 2 4 6 8 10 Tg Bessel Butterworth 2 dB Chebyshev jω σ jωa -jωa y(t) t 1 0 0 5 10 15 20 54Opsummering Gruppeløbstid Et systems gruppeløbstid (tidsforsinkelsen gennem ﬁltret) er deﬁneret som Tg = − dϕ(ω) dω [s] tt System med u(t) y(t) lineær fase u y t System med u(t) y(t) ulineær fase t u y 55Opsummering Design procedure A Amax [dB] ωSpeciﬁkation A Amax [dB] ω ωa1 0 A Amax [dB] ˜ω Normering TransformationDesign A Amax [dB]DenormeringA Amax [dB] A Amax [dB] ω ωa1 0 ω n = 1 2 3 Transformation 45 Filterspeciﬁkation Filterspeciﬁkation Nor meret ﬁlter Nor meret ˜ω ﬁlter Endelige","libVersion":"0.2.4","langs":""}